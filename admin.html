<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Dashboard - IT Solutions Uganda</title>
  <link rel="stylesheet" href="../css/style.css" />
  <style>
    .admin-container{max-width:1400px;margin:2rem auto;padding:0 1.5rem}
    .admin-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}
    .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:2rem}
    .stat-card{background:linear-gradient(135deg,var(--accent-2),var(--accent));padding:1.5rem;border-radius:var(--radius);color:#fff}
    .stat-card h3{margin:0;font-size:2rem}
    .stat-card p{margin:0.5rem 0 0;opacity:0.9}
    .tabs{display:flex;gap:1rem;border-bottom:2px solid rgba(255,255,255,0.1);margin-bottom:2rem}
    .tab{padding:0.75rem 1.5rem;background:none;border:none;color:var(--muted);cursor:pointer;border-bottom:2px solid transparent;margin-bottom:-2px}
    .tab.active{color:var(--text);border-color:var(--accent)}
    .tab-content{display:none}
    .tab-content.active{display:block}
    table{width:100%;border-collapse:collapse;background:var(--card);border-radius:var(--radius);overflow:hidden}
    th,td{padding:0.75rem;text-align:left;border-bottom:1px solid rgba(255,255,255,0.05)}
    th{background:rgba(255,255,255,0.02);font-weight:600}
    .status-badge{padding:0.25rem 0.75rem;border-radius:20px;font-size:0.85rem}
    .status-new{background:rgba(46,125,50,0.2);color:#4caf50}
    .status-contacted{background:rgba(33,150,243,0.2);color:#2196f3}
    .status-resolved{background:rgba(158,158,158,0.2);color:#9e9e9e}
    .login-container{max-width:400px;margin:5rem auto;padding:2rem;background:var(--card);border-radius:var(--radius)}
  </style>
</head>
<body>
  <div id="loginView" class="login-container">
    <h1>Admin Login</h1>
    <form id="loginForm">
      <label>
        <span>Email</span>
        <input type="email" id="loginEmail" required />
      </label>
      <label>
        <span>Password</span>
        <input type="password" id="loginPassword" required />
      </label>
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Login</button>
        <div id="loginStatus"></div>
      </div>
    </form>
  </div>

  <div id="dashboardView" style="display:none">
    <div class="admin-container">
      <div class="admin-header">
        <h1>Admin Dashboard</h1>
        <button class="btn btn-outline" onclick="logout()">Logout</button>
      </div>

      <div class="stats-grid" id="statsGrid">
        <div class="stat-card">
          <h3 id="contactsCount">-</h3>
          <p>Total Contacts</p>
        </div>
        <div class="stat-card">
          <h3 id="newslettersCount">-</h3>
          <p>Newsletter Subscribers</p>
        </div>
        <div class="stat-card">
          <h3 id="blogsCount">-</h3>
          <p>Blog Posts</p>
        </div>
        <div class="stat-card">
          <h3 id="testimonialsCount">-</h3>
          <p>Testimonials</p>
        </div>
      </div>

      <div class="tabs">
        <button class="tab active" onclick="switchTab('contacts')">Contacts</button>
        <button class="tab" onclick="switchTab('blogs')">Blogs</button>
        <button class="tab" onclick="switchTab('testimonials')">Testimonials</button>
        <button class="tab" onclick="switchTab('newsletters')">Newsletters</button>
      </div>

      <div id="contactsTab" class="tab-content active">
        <h2>Contact Submissions</h2>
        <table id="contactsTable">
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th>Message</th>
              <th>Status</th>
              <th>Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div id="blogsTab" class="tab-content">
        <h2>Blog Posts <button class="btn btn-primary" onclick="showBlogModal()">New Post</button></h2>
        <table id="blogsTable">
          <thead>
            <tr>
              <th>Title</th>
              <th>Category</th>
              <th>Published</th>
              <th>Views</th>
              <th>Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div id="testimonialsTab" class="tab-content">
        <h2>Testimonials</h2>
        <table id="testimonialsTable">
          <thead>
            <tr>
              <th>Name</th>
              <th>Company</th>
              <th>Rating</th>
              <th>Approved</th>
              <th>Featured</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div id="newslettersTab" class="tab-content">
        <h2>Newsletter Subscribers</h2>
        <table id="newslettersTable">
          <thead>
            <tr>
              <th>Email</th>
              <th>Name</th>
              <th>Status</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>

  <script src="../js/admin.js"></script>
</body>
</html>
